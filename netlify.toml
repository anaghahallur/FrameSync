[build]
  # Client is a static site - no build needed
  publish = "client"

[[redirects]]
  # Redirect all API calls to your Render backend
  from = "/api/*"
  to = "https://framesync-sf6o.onrender.com/api/:splat"
  status = 200
  force = true

[[redirects]]
  # Redirect Socket.IO connections to backend
  from = "/socket.io/*"
  to = "https://framesync-sf6o.onrender.com/socket.io/:splat"
  status = 200
  force = true

[[redirects]]
  # Redirect uploads to backend
  from = "/uploads/*"
  to = "https://framesync-sf6o.onrender.com/uploads/:splat"
  status = 200
  force = true

[[headers]]
  # Apply these headers to all routes
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "no-referrer"
    Cross-Origin-Opener-Policy = "same-origin-allow-popups"
    # Removed Cross-Origin-Embedder-Policy to allow Google/YouTube scripts
